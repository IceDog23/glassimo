{% capture listItems %}
            {%- paginate collection.products by 24 -%}
            {%- assign pagination = paginate %}
            {% for item in collection.products %}
              <div role="listitem" class="product-item w-dyn-item">
                <div class="add-to-cart">
                  {%- form "product", item, data-node-type: "commerce-add-to-cart-form", class: "w-commerce-commerceaddtocartform" -%}{%- unless item.has_only_default_variant or product.variants.size == 1 -%}<div data-node-type="add-to-cart-option-list" position-id="2c7b40ce-4669-bb0d-cf2c-01403540a2c2" template-part-bind="2c7b40ce-4669-bb0d-cf2c-01403540a2c2">{%- for option in item.options_with_values -%}<fieldset data-node-type="add-to-cart-option" template-part-bind="2c7b40ce-4669-bb0d-cf2c-01403540a2c3" style="{% if item.has_only_default_variant or product.variants.size == 1 %}display: none; {% endif %}"><select data-node-type="add-to-cart-option-select" class="w-select" style="display: none;" name="{{ "option" | append: forloop.index }}">{%- render "product-options", option: option -%}</select><div data-node-type="add-to-cart-option-pill-group" class="button-group-2 w-commerce-commerceaddtocartoptionpillgroup" aria-label="{{ "option" | append: forloop.index  }}">{%- for value in option.values -%}<div data-node-type="add-to-cart-option-pill" class="w-commerce-commerceaddtocartoptionpill" data-option-name="{{ value | handle }}"><div data-node-type="block" fs-cmsfilter-field="barva" template-part-bind="2c7b40ce-4669-bb0d-cf2c-01403540a2c8">{{ value }}</div></div>{%- endfor -%}</div></fieldset>{%- endfor -%}</div>{%- endunless -%}{%- render "product-variants-data-currency" product: item -%}{%- endform -%}
                </div>
                <div class="div-block-15">
                  <div fs-cmsfilter-field="dostupnost" class="paragraph skladem">{{ item.metafields.udesly['dostupnost-3'] }}</div>
                </div>
                <a href="{{ item.url }}" class="link-block w-inline-block">
                  <div class="overlay-on-product-2"></div><img alt="{{ item.featured_image.alt }}" src="{{ item.featured_image | img_url: 'master' }}" height="254" class="product-photo" data-commerce-type="variation-image" srcset="{{ item.featured_image | img_url: '1920x' }} 1920w,{{ item.featured_image | img_url: '1600x' }} 1600w,{{ item.featured_image | img_url: '1366x' }} 1366w,{{ item.featured_image | img_url: '1024x' }} 1024w,{{ item.featured_image | img_url: '768x' }} 768w,{{ item.featured_image | img_url: '640x' }} 640w">
                  <div class="product-text-fields">
                    <div class="product-namexdesigner-wrapper">
                      {%- assign refItem = item.metafields.custom.designer.value -%}<div fs-cmsfilter-field="designer" class="designer-name">{{ refItem.jmeno }}</div>
                      <div fs-cmssort-field="nazev" class="product-name">{{ item.title }}</div>
                    </div>
                    <div data-commerce-type="variation-price" fs-cmssort-field="cena" fs-cmsfilter-field="cena" class="price">{{ item.price | money_with_currency }}</div>
                  </div>
                </a>
                <div fs-cmssort-type="date" class="date">{{ item.published_at | date: "%B %e, %Y" }}</div>
              </div>
              {% endfor %}
                <div class="pagination">
                  <hr class="clear" />
                    {%- if paginate.previous -%}<span class="next">{{ "Předchozí" | link_to: paginate.previous.url }}</span>{%- endif -%}
                    {%- for part in paginate.parts -%}
                      {% if part.is_link %}
                          <span class="page">{{ part.title | link_to: part.url }}</span>
                      {% else %}
                        {% if part.title == '&hellip;' %}
                            <span class="page"><a href="#" onclick="return false;">{{ part.title }}</a></span>
                        {% else %}
                            <span class="page">{{ part.title | link_to: part.url }}</span>
                        {% endif %}
                      {% endif %}
                    {%- endfor -%}
                    {%- if paginate.next -%}<span class="previous">{{ "Následující" | link_to: paginate.next.url }}</span>{%- endif -%}
                  </ul>		
                </div>

              {%- endpaginate -%}
                        {% endcapture %}
{% assign items_length = listItems | strip | size %}
    <div id="w-node-b64a70fe-b892-0971-bac1-6900e513fdcf-f071842c" class="product-list-wrapper w-dyn-list" udy-collection="product">
            {%- unless items_length == 0 -%}<div fs-cmsload-mode="pagination" class="product-list w-dyn-items" fs-cmsfilter-element="list" role="list" fs-cmssort-element="list" fs-cmsload-pagesiblings="2" fs-cmsload-element="list" fs-cmsfilter-showquery="true">
              {{ listItems }}
            </div>{%- endunless -%}
            {%- if items_length == 0 -%}<div class="w-dyn-empty">
              <div>No items found.</div>
            </div>{%- endif -%}
            {% comment %} <div role="navigation" aria-label="List" class="w-pagination-wrapper pagination-4">
              {%- if pagination.previous.is_link -%}<a href="{{ pagination.previous.url }}" aria-label="Previous Page" class="w-pagination-previous previous-2">
                <div class="icon-embed-xxsmall arrow-right pagination w-embed"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16" fill="none" preserveAspectRatio="xMidYMid meet" aria-hidden="true" role="img">
                    <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg></div>
                <div class="pagination-text w-inline-block">Předchozí stránka</div>
              </a>{%- endif -%}
              <a fs-cmsload-element="page-button" href="#" class="pagination-ui-button w-inline-block">
                <div class="pagination-text w-inline-block">1</div>
              </a>
              <div fs-cmsload-element="page-dots" class="pagination-text dots w-inline-block">...</div>
              {%- if pagination.next.is_link -%}<a href="{{ pagination.next.url }}" aria-label="Next Page" class="w-pagination-next previous-2 next">
                <div class="pagination-text w-inline-block">Další stránka</div>
                <div class="icon-embed-xxsmall arrow-right w-embed"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16" fill="none" preserveAspectRatio="xMidYMid meet" aria-hidden="true" role="img">
                    <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg></div>
              </a>{%- endif -%}
              <div aria-label="Page 1 of 1" role="heading" class="w-page-count page-count"></div>
            </div>
          </div> {% endcomment %}

<style>
  .previous, .next, .page {
    margin: 0 10px;
  }
</style>