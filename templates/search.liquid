{%- assign headerSnippetPath = "header-search" -%}
{%- assign wfPage = "653981bba66d4b9e64485243" -%}
{%- assign bodyClasses = "" -%}

{%- section 'custom_marquee_2' -%}
{%- render 'navigation-1' -%}

<section class="hero-subpage">
    <div class="section-wrapper in-hero-subpage">
        <div class="text-wrapper display">
            <div class="link-page-wrapper in-pages">
                <a href="#" class="page-link-2 w-inline-block">
                    <div class="text-page-link">{{ 't64e1b1' | t }}</div>
                </a>
                <div class="link-page-text">{{ 'tn1f50f1ac' | t }}</div>
            </div>
            <div class="subpage-hero-grid">
                <h1 id="w-node-_993e1c7e-230f-524a-eabb-1128f6779217-64485243" class="heading-3 h1 black">{{ 't6ba0fece' | t }}</h1>
            </div>
        </div>
    </div>
</section>

<div class="divider in-decor">
    <div class="divider-line"></div>
</div>

<section>
    <div class="section-wrapper">
        <form action="/search" class="search-2 w-form" method="get" role="search">
            <input type="search" class="w-input" maxlength="256" name="q" placeholder="{{ 'tn2774f8a2' | t }}" id="search" required="">
            <input type="submit" value="{{ 'tn6ca0ae38' | t }}" class="w-button">
            <div>{{ 't7635fb4f' | t }}</div>
        </form>

        {%- if search.performed -%}
        <div data-node-type="search-result-wrapper" class="">
            {%- if search.results_count > 0 -%}
            <div data-node-type="search-result-list" class="search-result-list">
                {%- for item in search.results -%}
                <div data-node-type="search-result-item" class="search-result-item">
                    <a data-node-type="link" class="link-block-4" href="{{ item.url }}">
                        <img data-node-type="image" class="product-photo" alt="{{ item.title }}" loading="lazy" width="auto" height="auto" src="{{ item | img_url: 'master' }}">
                        <div data-node-type="block" class="div-block-25">
                            <div data-node-type="block" class="designer-name">{{ item.metafields.custom.designer.value.jmeno }}</div>
                            <h1 data-node-type="heading" class="product-name">{{ item.title }}</h1>
                            <div data-node-type="block" class="price">{{ item.price | money_with_currency }}</div>
                        </div>
                        <div data-node-type="block" class="overlay-on-product-4"></div>
                    </a>
                </div>
                {%- endfor -%}
            </div>

            <div id="loadMoreContainer">
                <button id="loadMoreButton">Load More Results</button>
            </div>
            {%- endif -%}

            {%- if search.results_count == 0 -%}
            <div data-node-type="search-result-empty">
                <div data-node-type="block" class="empty-state-text">{{ 't57ec135b' | t }}</div>
            </div>
            {%- endif -%}
        </div>
        {%- endif -%}
    </div>
</section>

<div class="container-2 w-container">
    <section class="filter-section">
        <div class="section-wrapper"></div>
        {%- render "produkty_paginated_by_24" -%}
    </section>
</div>

{%- section 'footer' -%}

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var page = 2; // initialize page counter

        $('#loadMoreButton').on('click', function () {
            // perform an AJAX request to fetch more results
            $.ajax({
                url: '/search',
                data: { q: '{{ search.terms }}', page: page },
                type: 'GET',
                success: function (data) {
                    // append new results to the existing list
                    $('.search-result-list').append(data);
                    page++; // increment page counter
                }
            });
        });
    });
</script>

{{ 'udesly-shopify.min.js' | asset_url | script_tag }}
